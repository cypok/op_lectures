\usepackage{pgfpages}

% minimal - it is like plain, but with background color
\defbeamertemplate{note page}{minimal}{%
  \nointerlineskip%
  \insertvrule{\paperheight}{note page.bg}%
  \vskip-\paperheight%
  \insertnote%
}

%\setbeameroption{show notes on second screen}
\setbeamertemplate{note page}[minimal]
\setbeamercolor{note page}{bg=black!5}

\newcommand{\notep}[1]{\note{#1\par}}


\usepackage{listings}
\usepackage{lstautogobble}
\lstset{
  xleftmargin=0.03\textwidth,
  aboveskip=0.75\medskipamount,
  belowskip=0.5\medskipamount,
  %
  basicstyle=\ttfamily\small,
  keywordstyle=\color{codeKeyword},
  stringstyle=\color{codeString},
  commentstyle=\color{codeComment},
  %
  literate={-}{-}1, % render dash as dash
  showstringspaces=false,
  %
  autogobble
}

\lstdefinelanguage{myC}[]{C}{
  morekeywords={size_t}
}

\lstdefinestyle{inlineC}{%
  basicstyle=\ttfamily\normalsize,
  language=myC
}

\lstnewenvironment{clisting}[1][]{\lstset{language=myC,#1}}{}

\newcommand{\comment}[1]{\color{codeComment}#1}

% Workaround for unconditional parskip after lstlisting environment
% See: http://tex.stackexchange.com/questions/40863/parskip-inserts-extra-space-after-floats-and-listings
\newcommand{\revertListingParskip}{%
  \vspace*{-\parskip}%
}
